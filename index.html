<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>High-Impact Portfolio: Revenue & Account Management</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">

    <style>
        /* --- PROFESSIONAL COLOR PALETTE & TYPOGRAPHY --- */
        :root {
            --color-primary: #171717; /* Near Black */
            --color-accent: #3b82f6; /* Subtle Blue Accent */
            --color-background: #FAFAFA; /* Off-white for premium feel */
        }
        
        /* Applying Outfit (Google Font) family globally */
        body {
            font-family: 'Outfit', sans-serif;
            color: var(--color-primary);
            background-color: var(--color-background);
            scroll-behavior: smooth; 
        }
        
        /* Gradient for emphasis */
        .text-gradient {
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-image: linear-gradient(to right, #1e40af, #3b82f6);
        }

        /* --- APPLE-LIKE SCROLL REVEAL EFFECT --- */
        .scroll-reveal {
            opacity: 0;
            transform: translateY(20px); /* Subtle lift for the reveal */
            /* Custom cubic-bezier for smooth, dynamic motion */
            transition: opacity 1.0s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
                        transform 1.0s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* State when element becomes visible */
        .scroll-reveal.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Styling for the loading spinner */
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid #fff;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- HEADER & NAVIGATION -->
    <header class="bg-white shadow-lg sticky top-0 z-10 border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-black tracking-tight text-gray-900">Revenue Architect</h1>
            <nav class="hidden sm:block">
                <a href="#metrics" class="text-sm font-medium text-gray-700 hover:text-blue-600 transition duration-300 ml-6">Metrics</a>
                <a href="#leadership" class="text-sm font-medium text-gray-700 hover:text-blue-600 transition duration-300 ml-6">Leadership</a>
                <a href="#skills" class="text-sm font-medium text-gray-700 hover:text-blue-600 transition duration-300 ml-6">Expertise</a>
                <a href="#simulator" class="text-sm font-medium text-gray-700 hover:text-blue-600 transition duration-300 ml-6">Simulator</a> 
                <a href="#contact" class="text-sm font-medium text-gray-700 hover:text-blue-600 transition duration-300 ml-6">Connect</a> 
            </nav>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">

        <!-- HERO SECTION -->
        <section class="text-center mb-24">
            <h2 class="text-6xl sm:text-7xl font-extrabold tracking-tighter text-gray-900 mb-6">
                The <span class="text-gradient">Scalable Growth</span> Leader
            </h2>
            <p class="text-2xl text-gray-600 max-w-4xl mx-auto font-light">
                $6.05 Million revenue driven. Architecting commercial success through strategic account management, system optimization, and high-performance team development.
            </p>
        </section>

        <!-- CORE METRICS SECTION -->
        <a id="metrics"></a>
        <section class="bg-white shadow-2xl rounded-3xl p-8 sm:p-12 mb-24 border-t-8 border-blue-500/80">
            <h3 class="text-4xl font-bold text-gray-900 mb-12 text-center scroll-reveal" data-delay="0">Core Commercial Impact</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-10 text-center">
                
                <!-- METRIC CARD 1 -->
                <div class="scroll-reveal" data-delay="100">
                    <div class="bg-blue-50/70 p-8 rounded-2xl shadow-xl border border-blue-100 transform transition duration-500 hover:scale-[1.01] hover:shadow-2xl">
                        <p class="text-5xl sm:text-6xl font-black text-blue-700 mb-3">$6.05M</p>
                        <p class="text-xl font-semibold text-gray-800">Record Quarterly Revenue</p>
                        <p class="text-sm text-gray-500 mt-2">Q4 2024</p>
                    </div>
                </div>

                <!-- METRIC CARD 2 -->
                <div class="scroll-reveal" data-delay="250">
                    <div class="bg-green-50/70 p-8 rounded-2xl shadow-xl border border-green-100 transform transition duration-500 hover:scale-[1.01] hover:shadow-2xl">
                        <p class="text-5xl sm:text-6xl font-black text-green-700 mb-3">+$550K</p>
                        <p class="text-xl font-semibold text-gray-800">Target Exceeded</p>
                        <p class="text-sm text-gray-500 mt-2">Surpassed quarterly goal by 10%</p>
                    </div>
                </div>

                <!-- METRIC CARD 3 -->
                <div class="scroll-reveal" data-delay="400">
                    <div class="bg-indigo-50/70 p-8 rounded-2xl shadow-xl border border-indigo-100 transform transition duration-500 hover:scale-[1.01] hover:shadow-2xl">
                        <p class="text-5xl sm:text-6xl font-black text-indigo-700 mb-3">+$1M</p>
                        <p class="text-xl font-semibold text-gray-800">Personal Best Increase</p>
                        <p class="text-sm text-gray-500 mt-2">Quarter-over-quarter growth</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- LEADERSHIP SECTION -->
        <a id="leadership"></a>
        <section class="mb-24">
            <h3 class="text-4xl font-bold text-gray-900 mb-12 text-center scroll-reveal" data-delay="0">Strategic Leadership & Scalability</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                
                <!-- LEADERSHIP CARD 1 -->
                <div class="scroll-reveal" data-delay="100">
                    <div class="bg-white p-8 rounded-2xl shadow-xl border border-gray-100 transform transition duration-500 hover:scale-[1.01] hover:shadow-2xl">
                        <svg class="w-10 h-10 text-blue-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-5a3 3 0 00-3-3H8a3 3 0 00-3 3v5H1m16 0c0-4.418-3.582-8-8-8s-8 3.582-8 8m14-4a5 5 0 00-5-5h-2a5 5 0 00-5 5"></path></svg>
                        <h4 class="text-2xl font-bold text-gray-900 mb-3">High-Performance Team Development</h4>
                        <p class="text-gray-600 leading-relaxed">
                            Passionate about developing teams through 1:1 coaching, targeted projects to enhance **technical skills**, and a focus on **career advancement**. This creates a multiplier effect on revenue capacity.
                        </p>
                    </div>
                </div>

                <!-- LEADERSHIP CARD 2 -->
                <div class="scroll-reveal" data-delay="250">
                    <div class="bg-white p-8 rounded-2xl shadow-xl border border-gray-100 transform transition duration-500 hover:scale-[1.01] hover:shadow-2xl">
                        <svg class="w-10 h-10 text-indigo-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-4m0 0a2 2 0 10-4 0v4m4 0a2 2 0 114 0v-4m-4 0h4m-4 0v-2m4 2v-2m-4-2h4m-4 0V9m4 4v2m-4-4V9m4 0h4m-4 0v-2m4 2v-2m-4 0h4m-4 0V7m4 0v-2m-4 0h4m-4 0V5m4 0v-2m-4 0h4m-4 0V3m4 0v-2m-4 0h4m-4 0V1"></path></svg>
                        <h4 class="text-2xl font-bold text-gray-900 mb-3">Scalable Support Systems</h4>
                        <p class="text-gray-600 leading-relaxed">
                            Built and refined scalable support systems to empower **sales success**. Focus on business continuity initiatives and sustaining growth by multiplying influence through people development.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SKILLS SECTION -->
        <a id="skills"></a>
        <section class="mb-24">
            <h3 class="text-4xl font-bold text-gray-900 mb-12 text-center scroll-reveal" data-delay="0">Core Account Management Expertise</h3>
            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-6">
                
                <!-- SKILL CARD 1 -->
                <div class="scroll-reveal" data-delay="100">
                    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100 text-center transform transition duration-500 hover:scale-[1.03] hover:shadow-xl">
                        <svg class="w-8 h-8 text-pink-500 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c1.657 0 3 .895 3 2s-1.343 2-3 2h-4v3"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 15a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                        <strong class="text-sm font-semibold text-gray-800">Executive Relationship Building</strong>
                    </div>
                </div>

                <!-- SKILL CARD 2 -->
                <div class="scroll-reveal" data-delay="150">
                    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100 text-center transform transition duration-500 hover:scale-[1.03] hover:shadow-xl">
                        <svg class="w-8 h-8 text-yellow-500 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M3 14h18m-9-4v8"></path></svg>
                        <strong class="text-sm font-semibold text-gray-800">Accurate Forecasting</strong>
                    </div>
                </div>

                <!-- SKILL CARD 3 -->
                <div class="scroll-reveal" data-delay="200">
                    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100 text-center transform transition duration-500 hover:scale-[1.03] hover:shadow-xl">
                        <svg class="w-8 h-8 text-cyan-500 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                        <strong class="text-sm font-semibold text-gray-800">Cross-Functional Coordination</strong>
                    </div>
                </div>

                <!-- SKILL CARD 4 -->
                <div class="scroll-reveal" data-delay="250">
                    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100 text-center transform transition duration-500 hover:scale-[1.03] hover:shadow-xl">
                        <svg class="w-8 h-8 text-orange-500 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 11.5V14m0-2.5v-2.25M7 11.5h6.5M7 14h6.5M13.5 8h4.75V11.5M13.5 11.5h4.75M13.5 14h4.75V11.5"></path></svg>
                        <strong class="text-sm font-semibold text-gray-800">CRM/Support System Proficiency</strong>
                    </div>
                </div>

                <!-- SKILL CARD 5 -->
                <div class="scroll-reveal" data-delay="300">
                    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100 text-center transform transition duration-500 hover:scale-[1.03] hover:shadow-xl">
                        <svg class="w-8 h-8 text-red-500 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <strong class="text-sm font-semibold text-gray-800">Full Sales Cycle Management</strong>
                    </div>
                </div>

                <!-- SKILL CARD 6 -->
                <div class="scroll-reveal" data-delay="350">
                    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100 text-center transform transition duration-500 hover:scale-[1.03] hover:shadow-xl">
                        <svg class="w-8 h-8 text-green-500 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6a2 2 0 00-2-2H5a2 2 0 00-2 2v13M14 17h2a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4 10h2a2 2 0 002-2V7a2 2 0 00-2-2h-2"></path></svg>
                        <strong class="text-sm font-semibold text-gray-800">Pipeline Generation & SDR Support</strong>
                    </div>
                </div>

            </div>
        </section>

        <!-- STRATEGIC INSIGHT SIMULATOR (GEMINI API) -->
        <a id="simulator"></a>
        <section class="mb-24 scroll-reveal" data-delay="0">
            <h3 class="text-4xl font-bold text-gray-900 mb-8 text-center">Strategic Insight Simulator âœ¨</h3>
            <div class="max-w-3xl mx-auto bg-white p-8 rounded-3xl shadow-2xl border border-gray-200">
                <p class="text-gray-600 mb-6 text-center">
                    Demonstrate my strategic thinking. Input a complex revenue or account management challenge, and I will generate an executive-level recommendation using the Gemini API.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 mb-6">
                    <input type="text" id="challengeInput" placeholder="e.g., How to upsell enterprise clients 30 days post-onboarding?" class="flex-grow p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <button id="generateInsight" class="bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-blue-700 transition duration-300 flex items-center justify-center">
                        <span id="insightButtonText">Generate Recommendation</span>
                        <div id="insightSpinner" class="spinner hidden ml-3"></div>
                    </button>
                </div>
                
                <div id="insightOutput" class="mt-8 p-6 bg-gray-50 rounded-xl border border-gray-200 min-h-[100px] hidden">
                    <p class="text-lg font-semibold text-gray-800 mb-2">Executive Strategy:</p>
                    <div id="insightText" class="text-gray-700 whitespace-pre-wrap"></div>
                </div>
                <div id="insightError" class="mt-4 p-3 text-sm text-red-700 bg-red-100 rounded-lg hidden"></div>
            </div>
        </section>
        
        <!-- CALL TO ACTION SECTION -->
        <a id="contact"></a>
        <section class="text-center bg-gray-900 text-white p-12 rounded-3xl mb-16 scroll-reveal" data-delay="0">
            <h3 class="text-4xl font-bold mb-4">Ready to Drive Transformative Revenue?</h3>
            <p class="text-xl font-light mb-8 opacity-90">Choose your preferred way to initiate a conversation about a new opportunity.</p>
            <div class="flex flex-col sm:flex-row justify-center gap-6">
                
                <!-- CTA 1: Email -->
                <a href="mailto:leojr.lozada@gmail.com?subject=Let's%20Connect%20for%20a%20Job%20Opportunity" 
                   id="emailCta"
                   onclick="handleEmailClick(event)"
                   class="inline-flex items-center justify-center bg-white text-gray-900 font-bold py-4 px-10 rounded-full shadow-lg transition duration-300 hover:bg-gray-100 hover:shadow-xl transform hover:scale-[1.02]">
                    <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-10 12l-7-7"></path></svg>
                    Send Email Invite
                </a>

                <!-- CTA 2: LinkedIn Chat -->
                <a href="https://www.linkedin.com/in/leolozada/" target="_blank" 
                   id="linkedinCta"
                   onclick="handleLinkedInClick(event)"
                   class="inline-flex items-center justify-center bg-blue-600 text-white font-bold py-4 px-10 rounded-full shadow-lg transition duration-300 hover:bg-blue-700 hover:shadow-xl transform hover:scale-[1.02]">
                    <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.447 20.452h-3.568v-5.27c0-1.25-.022-2.85-1.742-2.85-1.744 0-2.007 1.36-2.007 2.76v5.36H9.08V9.298h3.424v1.57h.048c.477-.899 1.635-1.84 3.37-1.84 3.601 0 4.276 2.37 4.276 5.44v6.182zm-16.14-11.458a2.593 2.593 0 01-2.592-2.591c0-1.428 1.163-2.591 2.592-2.591s2.59 1.163 2.59 2.591c0 1.428-1.162 2.591-2.59 2.591zm-1.82 11.458H5.88v-11.45h-3.424v11.45zM22.25 0H1.75C.783 0 0 .783 0 1.75v20.5C0 23.217.783 24 1.75 24h20.5c.967 0 1.75-.783 1.75-1.75V1.75c0-.967-.783-1.75-1.75-1.75z"></path></svg>
                    Chat on LinkedIn
                </a>
            </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200">
        <div class="flex justify-between items-center flex-col sm:flex-row">
            <p class="text-sm text-gray-500 mb-4 sm:mb-0">&copy; 2025 Revenue Architect Portfolio. All rights reserved.</p>
            <a href="https://www.linkedin.com/in/leolozada/" target="_blank" aria-label="LinkedIn Profile">
                <svg class="w-6 h-6 text-gray-500 hover:text-blue-600 transition duration-300" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.447 20.452h-3.568v-5.27c0-1.25-.022-2.85-1.742-2.85-1.744 0-2.007 1.36-2.007 2.76v5.36H9.08V9.298h3.424v1.57h.048c.477-.899 1.635-1.84 3.37-1.84 3.601 0 4.276 2.37 4.276 5.44v6.182zm-16.14-11.458a2.593 2.593 0 01-2.592-2.591c0-1.428 1.163-2.591 2.592-2.591s2.59 1.163 2.59 2.591c0 1.428-1.162 2.591-2.59 2.591zm-1.82 11.458H5.88v-11.45h-3.424v11.45zM22.25 0H1.75C.783 0 0 .783 0 1.75v20.5C0 23.217.783 24 1.75 24h20.5c.967 0 1.75-.783 1.75-1.75V1.75c0-.967-.783-1.75-1.75-1.75z"></path></svg>
            </a>
        </div>
    </footer>

    <script>
        // Set up global variables for Firebase and API key (required for Canvas)
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const apiKey = ""; // API key is handled by the Canvas environment

        // --- CONVERSION TRACKING (GTM) SIMULATION ---

        /**
         * Simulates a GTM dataLayer push for conversion tracking.
         * @param {string} eventName - The event name to track.
         */
        function trackConversion(eventName) {
            console.log(`[CONVERSION TRACKING]: Firing event: ${eventName}`);
            // In a live environment, you would uncomment the actual GTM/dataLayer push here:
            // window.dataLayer = window.dataLayer || [];
            // window.dataLayer.push({
            //     'event': 'cta_click',
            //     'cta_type': eventName
            // });
        }

        function handleEmailClick(event) {
            trackConversion('email_invite_lead');
            // Allow the default mailto action to proceed
        }

        function handleLinkedInClick(event) {
            trackConversion('linkedin_chat_lead');
            // Allow the default link action to proceed
        }

        // --- SCROLL REVEAL LOGIC (Intersection Observer) ---

        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                const delay = parseInt(entry.target.getAttribute('data-delay')) || 0;
                
                if (entry.isIntersecting) {
                    // Staggered reveal when scrolling into view
                    setTimeout(() => {
                        entry.target.classList.add('is-visible');
                    }, delay);
                } else {
                    // Hide element when scrolling out of view (for bidirectional effect)
                    entry.target.classList.remove('is-visible');
                }
            });
        }, {
            // Root margin adjusts when the observer triggers. 
            rootMargin: '0px 0px -100px 0px',
            threshold: 0.1 // Triggers when 10% of the item is visible
        });

        // Target all elements with the 'scroll-reveal' class
        document.querySelectorAll('.scroll-reveal').forEach(el => {
            observer.observe(el);
        });


        // --- GEMINI API CALL LOGIC ---

        document.getElementById('generateInsight').addEventListener('click', async () => {
            const prompt = document.getElementById('challengeInput').value;
            const outputDiv = document.getElementById('insightOutput');
            const outputText = document.getElementById('insightText');
            const errorDiv = document.getElementById('insightError');
            const button = document.getElementById('generateInsight');
            const buttonText = document.getElementById('insightButtonText');
            const spinner = document.getElementById('insightSpinner');

            if (!prompt) {
                alert('Please enter a business challenge.');
                return;
            }

            // UI Feedback: Start Loading State
            buttonText.textContent = 'Generating...';
            spinner.classList.remove('hidden');
            button.disabled = true;
            outputDiv.classList.add('hidden');
            errorDiv.classList.add('hidden');
            outputText.textContent = 'Analyzing challenge and formulating strategy...';
            outputDiv.classList.remove('hidden');

            const systemPrompt = "You are a VP of Revenue Strategy. Your task is to provide a concise, high-level strategic recommendation (2-3 sentences max) for the user's business challenge. Focus on actionable, executive-level insights.";
            const userQuery = `Business Challenge: ${prompt}`;
            
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                tools: [{ "google_search": {} }], // Use search grounding for up-to-date insights
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };

            const maxRetries = 3;
            let attempt = 0;
            let result = null;

            while (attempt < maxRetries) {
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`API returned status ${response.status}`);
                    }
                    
                    result = await response.json();
                    break; // Success, exit loop

                } catch (e) {
                    attempt++;
                    if (attempt >= maxRetries) {
                        console.error("Gemini API call failed after max retries:", e);
                        errorDiv.textContent = `Error: Failed to generate insight. Please try again.`;
                        errorDiv.classList.remove('hidden');
                        break;
                    }
                    // Exponential backoff
                    const delay = Math.pow(2, attempt) * 1000;
                    await new Promise(resolve => setTimeout(resolve, delay));
                }
            }


            // UI Feedback: End Loading State
            buttonText.textContent = 'Generate Recommendation';
            spinner.classList.add('hidden');
            button.disabled = false;
            
            if (result && result.candidates && result.candidates.length > 0 && result.candidates[0].content?.parts?.[0]?.text) {
                const text = result.candidates[0].content.parts[0].text;
                outputText.textContent = text;
            } else if (!errorDiv.classList.contains('hidden')) {
                // Error already displayed by the catch block
            } else {
                 errorDiv.textContent = `Error: Could not process the response from the AI.`;
                 errorDiv.classList.remove('hidden');
            }
        });

    </script>
</body>
</html>
